REM ZeroPain Register Test
DIM C% 256
P% = C%
[

DCD     &FDFDFDFD
DCD     &FDFDFDFD
DCD     &FDFDFDFD
DCD     &FDFDFDFD
DCB     "!!!!NULL.POINTER.DEREFERENCE!!!!"
DCB     0
ALIGN

.start%
STR r14, [r13, #-4]!
MOV r1, #start% - C%

.loop%
SWI "OS_EnterOS"
MOV r14, r1
LDR r4, [r1]
TEQ r14, r1
BNE P%
SWI "OS_LeaveOS"
TEQ r14, r1
BEQ P%
MOV r14, r1
LDR r5, [r2, r1]
TEQ r14, r1
TEQNE r5, r4
BNE P%
SUBS r1, r1, #4
BPL loop%
LDR r15, [r13], #4
]

CALL start%
